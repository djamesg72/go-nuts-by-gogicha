import{r as t,c as e,h as i,H as s,g as o}from"./p-f3ee86e3.js";const a=class{constructor(i){t(this,i),this.gamePaused=e(this,"gamePaused",7),this.gameOver=e(this,"gameOver",7),this.gameWon=e(this,"gameWon",7),this.devMode=!1,this.paused=!1,this.gameStarted=!1,this.score=0,this.lose=0,this.isWon=!1,this.showRabbit=!1,this.isGameOver=!1,this.eggDuration=6e3,this.eggs=0,this.eggMoveDuration=1e3}gameOverWatcher(){this.deleteTimer(),this.gameOver.emit()}gameWonWatcher(){this.deleteTimer(),this.gameWon.emit()}changeTimer(){this.gameStarted&&(this.showRabbit=!0,this.showRabitDuration()),this.deleteTimer(),this.createTimer()}showRabitDuration(){let t=setTimeout(()=>{this.showRabbit=!1,clearTimeout(t)},1200)}increaseSpeed(){let t=this.isDifficult?0:10;switch(this.eggs){case 1:this.eggDuration=6e3;break;case 6+t:this.eggDuration=5e3;break;case 11+2*t:this.eggDuration=4500,this.eggMoveDuration=900;break;case 21+3*t:this.eggDuration=4e3,this.eggMoveDuration=800;break;case 26+5*t:this.eggDuration=3e3,this.eggMoveDuration=600;break;case 31+6*t:this.eggDuration=2700,this.eggMoveDuration=900;break;case 36+8*t:this.eggDuration=2400,this.eggMoveDuration=800;break;case 46+9*t:this.eggDuration=1800,this.eggMoveDuration=600;break;case 56+12*t:this.eggDuration=1800,this.eggMoveDuration=900;break;case 66+14*t:this.eggDuration=1600,this.eggMoveDuration=800;break;case 81+15*t:this.eggDuration=1200,this.eggMoveDuration=600}}generateRandomNest(){let t=1+4*Math.random();return Math.floor(t)}createEgg(){let t=document.createElement("G-EGG");t.nest=this.generateRandomNest(),t.wolfPosition=this.wolf.position,t.eggMoveDuration=this.eggMoveDuration,this.eggsContainer.append(t),this.eggs++}createTimer(){this.gameTimer=window.setInterval(()=>{this.createEgg()},this.eggDuration)}deleteTimer(){window.clearInterval(this.gameTimer)}resetGame(){this.gameStarted=!1,this.eggDuration=6e3,this.eggMoveDuration=1e3,this.isGameOver=!1,this.isWon=!1,this.paused=!1,this.eggs=0,this.eggsContainer.innerHTML="",this.score=0,this.lose=0,this.loseContainer.innerHTML="",this.deleteTimer()}continueGame(){this.paused=!1,this.createTimer()}startGame(t){this.isDifficult=t,this.resetGame(),this.gameStarted=!0,this.createEgg(),this.createTimer()}handleKeyDown(t){"Space"==t.code&&this.startGame(!0)}pauseGame(){this.paused=!this.paused,this.gamePaused.emit(this.paused),this.paused?this.deleteTimer():this.continueGame()}minusPoint(){if(this.lose<=3){let t=document.createElement("IMG");t.src="assets/img/minuspoint.png",t.height=30,t.width=30,this.loseContainer.append(t)}}eggCatchedHandler(t){t.detail.catched?(this.score++,51===this.score&&(this.isWon=!0),t.detail.el.remove()):(this.lose++,3===this.lose&&(this.isGameOver=!0),this.minusPoint())}render(){return i(s,{class:"game-container"},i("div",{class:"game-container-left"},i("nav-button",{direction:"left-top"}),i("nav-button",{direction:"left-bottom"})),i("div",{class:"game-container-center"},i("div",{class:"console"}),i("div",{class:"border"},i("div",{class:"border-left"}),i("div",{class:"border-center"},i("div",{class:"title"},"Go Nuts for Gogicha")),i("div",{class:"border-right"})),i("div",{class:"screen"},i("div",{class:"score"},String(this.score).padStart(3,"0")," "),i("div",{class:"lose",ref:t=>this.loseContainer=t}),this.isGameOver&&i("div",{class:"game-over"},"შენ მეისპე"),this.isWon&&i("div",{class:"game-won"},"YOU WON"),i("div",{class:this.showRabbit?"rabbit":""}),i("g-wolf",{ref:t=>this.wolf=t}),i("div",{class:"eggs-container",ref:t=>this.eggsContainer=t}))),i("div",{class:"clearfix"}),i("div",{class:"game-container-right"},i("div",{class:"button-container"},i("button",{class:"mode-button",onClick:this.startGame.bind(this,!0)},"Start"),this.devMode&&this.gameStarted&&i("button",{class:"mode-button",onClick:this.pauseGame.bind(this)}," ",this.paused?"Continue":"Pause"," ")),i("nav-button",{direction:"right-top"}),i("nav-button",{direction:"right-bottom"})))}static get watchers(){return{isGameOver:["gameOverWatcher"],isWon:["gameWonWatcher"],eggDuration:["changeTimer"],eggs:["increaseSpeed"]}}};a.style='*,::after,::before{-webkit-box-sizing:border-box;box-sizing:border-box}:host(.game-container){position:relative;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;width:800px;height:450px;background-color:#ececec;border-radius:12px;-webkit-box-shadow:8px 8px 2px 1px;box-shadow:8px 8px 2px 1px;-webkit-box-sizing:border-box;box-sizing:border-box}@media (max-width: 800px){:host(.game-container){width:90%;height:90%;-ms-flex-pack:center;justify-content:center}}.clearfix{display:none}@media (max-width: 800px){.clearfix{display:-ms-flexbox;display:flex;-ms-flex-preferred-size:100%;flex-basis:100%;max-width:100%}}.game-container-left{-ms-flex:1;flex:1;position:relative;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;-ms-flex-align:center;align-items:center;margin-top:auto}@media (max-width: 800px){.game-container-left{-ms-flex-order:1;order:1;-ms-flex:0 1 50%;flex:0 1 50%;margin-top:auto}}.game-container-right{-ms-flex:1;flex:1;height:100%;position:relative;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;-ms-flex-align:center;align-items:center}@media (max-width: 800px){.game-container-right{-ms-flex-order:1;order:1;-ms-flex:0 1 50%;flex:0 1 50%;margin-top:0}}.game-container-center{position:relative;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;padding:0 38px}@media (max-width: 800px){.game-container-center{padding:50px;margin:auto}}.screen{background-image:url("assets/img/background.jpg");width:412px;height:270px;position:relative;background-size:cover;background-repeat:no-repeat;-webkit-box-shadow:inset 0px 0px 7px 1px rgba(0, 0, 0, 0.3);box-shadow:inset 0px 0px 7px 1px rgba(0, 0, 0, 0.3);border:solid 2px rgba(0, 0, 0, 0.3);z-index:200}.console{display:block;position:absolute;width:488px;height:346px;border-radius:12px;-webkit-box-shadow:inset rgba(255, 255, 255, 0.2) 8px 8px 18px 5px, inset rgba(0, 0, 0, 0.5) -8px -8px 18px 5px;box-shadow:inset rgba(255, 255, 255, 0.2) 8px 8px 18px 5px, inset rgba(0, 0, 0, 0.5) -8px -8px 18px 5px}.border{display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;position:absolute;width:452px;height:310px;border-radius:8px}.border-left{-ms-flex:1;flex:1;height:100%;border:solid 2px black;border-top-left-radius:8px;border-bottom-left-radius:8px;border-right:none}.border-center{height:100%;position:relative;border-bottom:solid 2px black}.border-right{-ms-flex:1;flex:1;height:100%;border:solid 2px black;border-top-right-radius:8px;border-bottom-right-radius:8px;border-left:none}.title{-webkit-transform:translateY(-10px);transform:translateY(-10px);display:inline-block;padding:0 4px;font-family:Arial, Helvetica, sans-serif;font-size:20px;font-weight:700;color:black}.score{position:absolute;top:15px;left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%);font-family:"Clock";font-size:40px}.lose{position:absolute;width:94px;top:55px;left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%);display:-ms-flexbox;display:flex;-ms-flex-wrap:nowrap;flex-wrap:nowrap}.lose img{display:block}.game-over,.game-won{position:absolute;top:50%;text-align:center;width:100%;z-index:1000;font-size:40px;font-weight:700;font-family:"Open Sans"}.game-over{color:white;background:brown;-webkit-transform:translateY(-35px);transform:translateY(-35px);line-height:70px}.game-won{color:white;background-image:url("assets/img/win2.gif");height:100%;-webkit-transform:translateY(-133px);transform:translateY(-133px);background-size:cover;background-repeat:no-repeat;display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center;-ms-flex-align:end;align-items:end;padding-bottom:50px}.eggs-container{position:absolute;width:100%;height:100%}.rabbit{position:absolute;display:block;background-size:contain;background-repeat:no-repeat;width:105px;height:98px;margin-left:53px;-webkit-animation-name:rabbit;animation-name:rabbit;-webkit-animation-duration:3.5s;animation-duration:3.5s;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards;-webkit-animation-iteration-count:4;animation-iteration-count:4}@-webkit-keyframes rabbit{0%{background-image:url("assets/img/rabbit1.png")}50%{background-image:url("assets/img/rabbit2.png")}100%{background-image:url("assets/img/rabbit1.png")}}@keyframes rabbit{0%{background-image:url("assets/img/rabbit1.png")}50%{background-image:url("assets/img/rabbit2.png")}100%{background-image:url("assets/img/rabbit1.png")}}.button-container{display:block;padding-top:53px;margin-bottom:auto}.button-container button:not(:last-of-type){margin-bottom:16px}@media (max-width: 800px){.button-container{display:-ms-flexbox;display:flex;padding-top:0}.button-container button:not(:last-of-type){margin-bottom:0;margin-right:8px}}.mode-button{display:block;margin:0 auto;background-color:darkred;color:white;border:0;border-radius:12px;padding:0 12px;line-height:24px;outline:none}.mode-button:hover,.mode-button :active,.mode-button :focus{cursor:pointer;background-color:#720000}';const r=class{constructor(i){t(this,i),this.eggIsCathced=e(this,"eggIsCathced",7),this.eggMoveDuration=1e3,this.step=1,this.birdIsShown=!1,this.nestTitle={1:"left-top",2:"right-top",3:"left-bottom",4:"right-bottom"},this.xSide=1===this.nest||3===this.nest?"left":"right"}changeTimer(){clearInterval(this.eggMoveTimer),this.startEggMoving()}checkCatching(t){return this.isCatching=this.nestTitle[this.nest]===t}pauseGame(t){t.detail?clearInterval(this.eggMoveTimer):this.startEggMoving()}deleteTimer(){clearInterval(this.eggMoveTimer)}catchEggHandler(t){this.checkCatching(t.detail)}showBird(){let t=setTimeout(()=>{this.birdIsShown=!1,clearTimeout(t)},3e3)}startEggMoving(){this.eggMoveTimer=window.setInterval(()=>{10===this.step?clearInterval(this.eggMoveTimer):5===this.step?(this.isCatching?this.eggIsCathced.emit({catched:!0,el:this.el}):(this.eggIsCathced.emit({catched:!1,el:this.el}),this.birdIsShown=!0,this.showBird()),this.step=10):this.step++},this.eggMoveDuration)}setDegree(t){return 2===this.nest||4===this.nest?-1*t:t}generateStyleObject(){let t=3===this.nest||4===this.nest?4===this.nest?58:60:2===this.nest?-2:0;this.stepStyleObject={1:{[this.xSide]:"22px",top:75+t+"px",transform:`rotate(${this.setDegree(45)}deg)`},2:{[this.xSide]:"35px",top:84+t+"px",transform:`rotate(${this.setDegree(90)}deg)`},3:{[this.xSide]:"50px",top:93+t+"px",transform:`rotate(${this.setDegree(135)}deg)`},4:{[this.xSide]:"65px",top:102+t+"px",transform:`rotate(${this.setDegree(-90)}deg)`},5:{[this.xSide]:"80px",top:111+t+"px",transform:`rotate(${this.setDegree(-25)}deg)`},10:{display:"none"}}}componentWillLoad(){this.checkCatching(this.wolfPosition),this.generateStyleObject()}componentDidLoad(){this.startEggMoving()}componentDidUnload(){window.clearInterval(this.eggMoveTimer)}render(){return i(s,null,i("div",{class:"egg",style:this.stepStyleObject[this.step]}),i("div",{class:"bird-container"},i("div",{class:"bird "+(this.birdIsShown?"bird-"+this.xSide:"")})))}get el(){return o(this)}static get watchers(){return{eggMoveDuration:["changeTimer"]}}};r.style=':host{display:block;position:relative}:host img{position:absolute;-webkit-transform-origin:center center;transform-origin:center center;display:block}.bird-container{position:relative;width:100%}.bird{position:absolute;display:block;width:59px;height:31px;bottom:20px;-webkit-animation-duration:1.5s;animation-duration:1.5s;-webkit-animation-iteration-count:1;animation-iteration-count:1;background-position-x:center;background-position-y:center;background-repeat:no-repeat}.bird-right{right:80px;top:200px;-webkit-animation-name:donutCrash;animation-name:donutCrash}.bird-left{left:80px;top:200px;-webkit-animation-name:donutCrash;animation-name:donutCrash}.egg{height:30px;width:30px;background-image:url("./assets/img/egg.png");background-size:contain;position:absolute}@-webkit-keyframes donutCrash{1%{background-image:url("./assets/img/broken-egg.png")}33%{background-image:url("./assets/img/broken-egg-1.png")}66%{background-image:url("./assets/img/broken-egg-2.png")}}@keyframes donutCrash{1%{background-image:url("./assets/img/broken-egg.png")}33%{background-image:url("./assets/img/broken-egg-1.png")}66%{background-image:url("./assets/img/broken-egg-2.png")}}';const n=class{constructor(i){t(this,i),this.wolfDirectionChange=e(this,"wolfDirectionChange",7),this.position="left-top",this.directionX=this.position.split("-")[0],this.directionY=this.position.split("-")[1]}changeDirectionX(){this.position=`${this.directionX}-${this.directionY}`,this.wolfDirectionChange.emit(this.position)}changeDirectionY(){this.position=`${this.directionX}-${this.directionY}`,this.wolfDirectionChange.emit(this.position)}chooseHandler(t){let e=t.detail.split("-");this.directionX=e[0],this.directionY=e[1]}handleKeyDown(t){switch(t.key){case"ArrowDown":this.directionY="bottom";break;case"ArrowUp":this.directionY="top";break;case"ArrowLeft":this.directionX="left";break;case"ArrowRight":this.directionX="right"}}componentWillLoad(){this.wolfDirectionChange.emit(this.position)}render(){return i("div",{class:this.position})}static get watchers(){return{directionX:["changeDirectionX"],directionY:["changeDirectionY"]}}};n.style=':host{display:-ms-inline-flexbox;display:inline-flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;position:absolute;bottom:35px;-webkit-transform:translateX(85px);transform:translateX(85px)}div{width:234px;height:133px;background-repeat:no-repeat;background:url("assets/img/left-top.png");-webkit-transition:all 0.4s ease;transition:all 0.4s ease}.left-top{background-image:url("assets/img/left-top.png");-webkit-transition:all 0.4s ease;transition:all 0.4s ease;background-size:contain;background-repeat:no-repeat}.left-bottom{background-image:url("assets/img/left-bottom.png");-webkit-transition:all 0.4s ease;transition:all 0.4s ease;background-size:contain;background-repeat:no-repeat}.right-top{background-image:url("assets/img/right-top.png");-webkit-transition:all 0.4s ease;transition:all 0.4s ease;background-size:contain;background-repeat:no-repeat}.right-bottom{background-image:url("assets/img/right-bottom.png");-webkit-transition:all 0.4s ease;transition:all 0.4s ease;background-size:contain;background-repeat:no-repeat}';const h=class{constructor(i){t(this,i),this.gChooseDirection=e(this,"gChooseDirection",7)}chooseDirection(){console.log("this.direction"),this.gChooseDirection.emit(this.direction)}render(){return i(s,{class:this.direction,onClick:this.chooseDirection.bind(this)},i("button",null),i("div",{class:"nav-container"},i("div",{class:"nav"})))}};h.style='button{border:none;margin:0;padding:0;width:auto;overflow:visible;background:transparent;color:inherit;font:inherit;line-height:normal;outline:none;-webkit-font-smoothing:inherit;-moz-osx-font-smoothing:inherit;-webkit-appearance:none}:host{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center}:host(:hover){cursor:pointer}:host(:hover) button{background-color:#580000}:host(:hover) button:after{border:solid 2px #580000}:host(:first-of-type){margin-bottom:32px}:host(:last-of-type){margin-bottom:16px}button{display:inline-block;position:relative;width:32px;min-height:32px;border-radius:50%;background-color:darkred;-webkit-transition:background-color 0.4s ease;transition:background-color 0.4s ease}button:after{position:absolute;content:"";left:-4px;top:-4px;width:36px;height:36px;border-radius:50%;border:solid 2px darkred;-webkit-transition:border-color 0.4s ease;transition:border-color 0.4s ease}button::-moz-focus-inner{border:0;padding:0}.nav-container{position:absolute;width:32px;height:32px}.nav{position:absolute;top:40px;left:8px;display:inline-block;border-style:solid;width:0;height:0;line-height:0px;border-width:32px 8px 0 8px;border-color:#000000 transparent transparent transparent}:host(.left-top){padding:40px 0 0 40px}:host(.left-top) .nav-container{-webkit-transform:rotate(135deg);transform:rotate(135deg)}:host(.left-bottom){padding:0 0 40px 40px}:host(.left-bottom) .nav-container{-webkit-transform:rotate(45deg);transform:rotate(45deg)}:host(.right-top){padding:40px 40px 0 0}:host(.right-top) .nav-container{-webkit-transform:rotate(-135deg);transform:rotate(-135deg)}:host(.right-bottom){padding:0 40px 40px 0}:host(.right-bottom) .nav-container{-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}';export{a as g_app,r as g_egg,n as g_wolf,h as nav_button}